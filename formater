#!/bin/bash
######################################################################################################
# Program	: formater
# Author	: Chauncey Yan
# Functions	:
# Revision	: 0.1
# Mod date	: Aug 28 2014
# Updates	:
# Issues	:
######################################################################################################
# Init		:
######################################################################################################

######################################################################################################
# Function	:
# Input		:
# Output	:
# Issues	:
######################################################################################################
lineMaxer () {
	arr=($(echo $line))
	if [[ $arrsize_max -lt ${#arr[@]} ]];then
		arrsize_max=${#arr[@]}
	fi
	
	for (( i=0; i<${#arr[@]}; i++ ));do
		if [[ ${max[$i]} -lt ${#arr[$i]} ]];then
			((bit=${#arr[$i]}/8+1))
			((col=$bit*8))
			max[$i]=$col
		fi
	done
}

######################################################################################################
# Function	:
# Input		:
# Output	:
# Issues	:
######################################################################################################
recreate () {
	while read line; do
		word_arr=($(echo $line))
		for (( m=0; m < $arrsize_max; m++ ));do
			printf "%-${max[$m]}s" ${word_arr[$m]}
		done
		echo
	done < $1
}
######################################################################################################
# Main		:
# Issues	:
######################################################################################################
if [[ -n $1 ]];then 
	while read line; do
		lineMaxer
	done < $1
	recreate $1
else
	echo ERROR: No argument
fi



